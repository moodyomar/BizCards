(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{41:function(e,t,r){},44:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),n=r(21),s=r.n(n),i=(r(41),r(2)),o=r.n(i),u=r(3),l=r(5),b=r(7),d=r(9),j=r(6),m=(r(43),r(44),r(45),r(46),r(8)),p=r(24),h=r.n(p),x="https://macard.herokuapp.com",O=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(t);case 3:return r=e.sent,console.log(r),e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(t,r,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:r,url:t,data:a,headers:{"content-type":"application/json","x-auth-token":localStorage.tok}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:throw e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,a){return e.apply(this,arguments)}}(),v={},g=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.tok){e.next=17;break}return x+"/users/userInfo",e.prev=2,e.next=5,f("https://macard.herokuapp.com/users/userInfo","GET");case 5:return(t=e.sent)._id?v=t:(localStorage.removeItem("tok"),v={}),e.abrupt("return",v);case 10:return e.prev=10,e.t0=e.catch(2),localStorage.removeItem("tok"),v={},e.abrupt("return",v);case 15:e.next=19;break;case 17:return v={},e.abrupt("return",v);case 19:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),N=function(){return v},w=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(m.a)(v.cards),[t]),a=new Set(Object(m.a)(a)),(r=v.cards).splice.apply(r,[0,v.cards.length].concat(Object(m.a)(a))),x+"/users/cards",e.prev=4,e.next=7,f("https://macard.herokuapp.com/users/cards","PATCH",{cards:v.cards});case 7:return 1==(c=e.sent).n&&j.b.success("Card is added to favorite"),e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(4),console.log(e.t0),j.b.error("an error accured , try again later !"),e.t0;case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.cards.filter((function(e){return e!=t})),(r=v.cards).splice.apply(r,[0,v.cards.length].concat(Object(m.a)(a))),x+"/users/cards",e.prev=3,e.next=6,f("https://macard.herokuapp.com/users/cards","PATCH",{cards:v.cards});case 6:return 1==(c=e.sent).n&&j.b.warning("Card removed from favorite"),e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(3),console.log(e.t0),j.b.error("There problem , try again later !"),e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),z=r(0);var y=function(e){var t=Object(a.useState)(!1),r=Object(l.a)(t,2),n=r[0],s=r[1],i=Object(a.useState)(null),m=Object(l.a)(i,2),p=m[0],h=m[1],x=Object(d.f)();Object(a.useEffect)((function(){h(N)}),[e.location]);var O=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("tok"),e.next=3,g();case 3:x.push("/login"),j.b.info("You logged out from system !");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsx)("div",{className:"container nav_top p-2",children:Object(z.jsxs)("div",{className:"row align-items-center",children:[Object(z.jsxs)("div",{className:"logo col-lg-3 d-flex justify-content-between align-items-center",children:[Object(z.jsx)("h2",{className:"text-danger",children:"Cards project"}),Object(z.jsx)("div",{className:"burger",onClick:function(){s(!n)},children:Object(z.jsx)("i",{className:"fa fa-bars fs-2","aria-hidden":"true"})})]}),Object(z.jsxs)("nav",{onClick:function(){s(!1)},className:"col-lg-9 text-end",style:{display:n&&"block"},children:[Object(z.jsx)(b.b,{to:"/",children:"Home"}),Object(z.jsx)(b.b,{to:"/about",children:"About"}),localStorage.tok?Object(z.jsxs)(c.a.Fragment,{children:[Object(z.jsx)(b.b,{to:"/userInfo",children:"User Info"}),Object(z.jsx)(b.b,{to:"/favorites",children:"My Favorites"}),(null===p||void 0===p?void 0:p.biz)&&Object(z.jsx)(b.b,{to:"/myBizCards",children:"My Cards"}),Object(z.jsx)(b.b,{onClick:O,to:"#",className:"text-danger",children:"Log out"})]}):Object(z.jsxs)(c.a.Fragment,{children:[Object(z.jsx)(b.b,{to:"/login",children:"Log in"}),Object(z.jsx)(b.b,{to:"/signup",children:"Sign up"})]})]})]})})};var S=function(e){return Object(z.jsx)("div",{className:"my-4",children:Object(z.jsx)("h1",{children:e.title})})};var C=function(e){var t=Object(a.useState)({}),r=Object(l.a)(t,2),c=r[0],n=r[1],s=Object(a.useState)(1),i=Object(l.a)(s,2),b=i[0],d=i[1];Object(a.useEffect)((function(){n(N)}),[]);var j=function(e){return c.cards.includes(e.bizNumber)?Object(z.jsx)("button",{onClick:Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e.bizNumber);case 2:d(b+1);case 3:case"end":return t.stop()}}),t)}))),className:"btn",children:Object(z.jsx)("i",{className:"fa fa-heart fs-2 text-danger","aria-hidden":"true"})}):Object(z.jsx)("button",{onClick:Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e.bizNumber);case 2:d(b+1);case 3:case"end":return t.stop()}}),t)}))),className:"btn",children:Object(z.jsx)("i",{className:"fa fa-heart-o fs-2 text-black","aria-hidden":"true"})})};return Object(z.jsx)("div",{className:"row",children:e.ar.map((function(e){var t,r=(null===(t=e.bizImage)||void 0===t?void 0:t.length)>2?e.bizImage:"/images/defaultImg.jpg";return Object(z.jsx)("div",{className:"col-lg-4 p-3",children:Object(z.jsxs)("div",{className:"p-2 border",children:[Object(z.jsx)("div",{className:"bizImg",style:{backgroundImage:"url(".concat(r,")")}}),Object(z.jsxs)("article",{className:"p-3",children:[Object(z.jsx)("h2",{children:e.bizName}),Object(z.jsx)("p",{children:e.bizDescription}),Object(z.jsx)("hr",{}),Object(z.jsxs)("div",{children:[Object(z.jsx)("strong",{children:"Phone:"})," ",e.bizPhone]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("strong",{children:"Address:"})," ",e.bizAddress]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("strong",{children:"Biz Number:"})," ",e.bizNumber]}),c._id?j(e):Object(z.jsx)("small",{className:"text text-danger",children:"* log in to add to favorite"})]})]})},e.bizNumber)}))})};var E=function(e){var t=Object(a.useState)(0),r=Object(l.a)(t,2),c=r[0],n=r[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var t=Object(u.a)(o.a.mark((function t(){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=x+e.urlOfItemNum,t.next=3,O(r);case 3:a=t.sent,console.log(a.count),n(Math.ceil(a.count/5));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{children:"Page: "}),Object(m.a)(Array(c)).map((function(t,r){return Object(z.jsx)(b.b,{to:e.linkTo+(r+1),className:"btn btn-dark me-1",children:r+1},r)}))]})};var q=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),c=r[0],n=r[1];Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=e.get("page")?e.get("page")-1:0;s(x+"/cards?reverse=yes&page="+t)}),[e.location]);var s=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:r=e.sent,console.log(r),n(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)(S,{title:"Welcome to home page"}),Object(z.jsx)(E,{urlOfItemNum:"/cards/totalCards",linkTo:"/?page="}),Object(z.jsx)(C,{ar:c})]})};var I=function(e){return Object(z.jsxs)("div",{children:[Object(z.jsx)(S,{title:"About"}),Object(z.jsx)("p",{children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Neque eveniet natus ullam repellat. Reprehenderit nulla enim ab quia similique sit recusandae iure quasi iusto officiis, praesentium dolorem consequuntur odit mollitia quo eligendi vero aspernatur, accusantium optio vitae minima, neque iste! Porro illo doloribus quo officiis molestiae ut quas at voluptatem praesentium voluptatum optio sapiente quos ipsam repudiandae omnis laboriosam, magnam est accusantium fuga, harum consequatur maxime! Quos magnam, voluptatum iure est suscipit vel, laborum, impedit doloribus sunt nesciunt autem accusamus minus dicta doloremque veritatis. Nihil aut doloribus quis eligendi, fugit itaque aperiam earum numquam sit maiores a! In, dignissimos hic!"})]})};var A=function(e){return Object(z.jsx)("div",{children:Object(z.jsx)(S,{title:"Page not found , 404!"})})},P=r(4),B=r(15);var L=function(e){var t=Object(B.a)(),r=t.register,a=t.handleSubmit,c=t.formState.errors,n=Object(d.f)(),s=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x+"/users/",e.prev=1,e.next=4,f("https://macard.herokuapp.com/users/","POST",t);case 4:e.sent._id?(j.b.success("You sign up successfuly!"),n.push("/login")):j.b.error("an error occurred , please come back later or try again"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response.data),e.t0.response.data.code?j.b.error("User is already in the systme , try login"):j.b.error("an error occurred , please come back later or try again");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),i=r("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}),l=r("password",{required:!0,minLength:3}),b=r("name",{required:!0,minLength:2}),m=r("biz",{required:!1});return Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("form",{onSubmit:a(s),className:"col-lg-6 mx-auto shadow p-3 rounded mt-3",children:[Object(z.jsx)(S,{title:"Sign up new user"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("label",{children:"Email:"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},i),{},{type:"text",className:"form-control"})),c.email&&Object(z.jsx)("span",{className:"text-danger",children:"Enter valid email"})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("label",{children:"Password:"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},l),{},{type:"text",className:"form-control"})),c.password&&Object(z.jsx)("span",{className:"text-danger",children:"Enter min 3 charts password"})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("label",{children:"Full name:"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},b),{},{type:"text",className:"form-control"})),c.fullName&&Object(z.jsx)("span",{className:"text-danger",children:"Enter min 2 charts name"})]}),Object(z.jsxs)("div",{className:"mt-2",children:[Object(z.jsx)("input",Object(P.a)(Object(P.a)({},m),{},{type:"checkbox",className:"form-check-input me-2"})),Object(z.jsx)("label",{children:"I am Business"})]}),Object(z.jsx)("button",{className:"btn btn-info mt-3",children:"Sign up"})]})})};var T=function(e){var t=Object(B.a)(),r=t.register,a=t.handleSubmit,c=t.formState.errors,n=Object(d.f)(),s=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,x+"/users/login",e.next=5,f("https://macard.herokuapp.com/users/login","POST",t);case 5:return r=e.sent,console.log(r),localStorage.setItem("tok",r.token),e.next=10,g();case 10:j.b.success("You logged in !"),n.push("/userInfo"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),j.b.error("User or password worng!");case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),i=r("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}),l=r("password",{required:!0,minLength:3});return Object(z.jsx)("div",{className:"container",children:Object(z.jsxs)("form",{onSubmit:a(s),className:"col-lg-6 mx-auto shadow p-3 rounded mt-3",children:[Object(z.jsx)(S,{title:"Log in"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("label",{children:"Email:"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},i),{},{type:"text",className:"form-control"})),c.email&&Object(z.jsx)("span",{className:"text-danger",children:"Enter valid email"})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("label",{children:"Password:"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},l),{},{type:"text",className:"form-control"})),c.password&&Object(z.jsx)("span",{className:"text-danger",children:"Enter min 3 charts password"})]}),Object(z.jsx)("button",{className:"btn btn-success mt-3",children:"Log in"})]})})};var Y=function(e){return Object(z.jsxs)("p",{className:"border-top pt-3 text-center",children:["Cards App \xa9 ",(new Date).getFullYear()," - 1991"]})};var D=function(e){var t=Object(a.useState)({}),r=Object(l.a)(t,2),c=r[0],n=r[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x+"/users/userInfo",e.next=3,f("https://macard.herokuapp.com/users/userInfo","GET");case 3:t=e.sent,console.log(t),t.dateCreated=t.createdAt.substr(0,t.createdAt.indexOf("T")),n(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)(S,{title:"Info about your user:"}),Object(z.jsxs)("div",{children:[Object(z.jsxs)("h4",{className:"h5",children:["Name: ",c.name]}),Object(z.jsxs)("h4",{className:"h5",children:["Email: ",c.email]}),Object(z.jsxs)("h4",{className:"h5",children:["Sign up data: ",c.dateCreated]})]})]})},F=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.tok){e.next=2;break}return e.abrupt("return",{err:"No token in localstorage"});case 2:return e.prev=2,x+"/users/authUser",e.next=6,f("https://macard.herokuapp.com/users/authUser","GET");case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();var _=function(e){var t=Object(d.f)(),r=function(){var r=Object(u.a)(o.a.mark((function r(){var a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F();case 2:a=r.sent,console.log(a),e.bizRoute&&(N().biz||(j.b.warning("You must be business"),t.push("/"))),a.status||(localStorage.removeItem("tok"),t.push("/login"));case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(z.jsx)(d.a,{exact:!0,path:e.path,render:function(){return r(),Object(z.jsx)(e.comp,Object(P.a)({},e))}})};var U=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),c=r[0],n=r[1];Object(a.useEffect)((function(){s("https://macard.herokuapp.com/users/userCardsFav")}),[]);var s=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t,"GET");case 3:r=e.sent,console.log(r),n(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)(S,{title:"Your favorite business cards"}),Object(z.jsx)(C,{ar:c})]})};var M=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),c=r[0],n=r[1];Object(a.useEffect)((function(){s()}),[e.location]);var s=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x+"/cards/userCardsAdded?perPage=999",e.next=3,f("https://macard.herokuapp.com/cards/userCardsAdded?perPage=999","GET");case 3:t=e.sent,n(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to del?")){e.next=6;break}return r=x+"/cards/"+t,e.next=4,f(r,"DELETE");case 4:1==e.sent.n&&(s(),j.b.info("Card deleted"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{className:"container",children:[Object(z.jsx)(S,{title:"Cards you've added"}),Object(z.jsx)(b.b,{to:"addCard",className:"btn btn-success",children:"Add new Biz Card"}),Object(z.jsxs)("table",{className:"table table-striped",children:[Object(z.jsx)("thead",{children:Object(z.jsxs)("tr",{children:[Object(z.jsx)("th",{children:"#"}),Object(z.jsx)("th",{children:"Name"}),Object(z.jsx)("th",{children:"Description"}),Object(z.jsx)("th",{children:"Address"}),Object(z.jsx)("th",{children:"Phone"}),Object(z.jsx)("th",{children:"edit/del"})]})}),Object(z.jsx)("tbody",{children:c.map((function(e,t){return Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:t+1}),Object(z.jsx)("td",{children:e.bizName}),Object(z.jsxs)("td",{children:[e.bizDescription.substr(0,40),"..."]}),Object(z.jsx)("td",{children:e.bizAddress}),Object(z.jsx)("td",{children:e.bizPhone}),Object(z.jsxs)("td",{children:[Object(z.jsx)(b.b,{to:"/editCard/"+e._id,children:Object(z.jsx)("button",{children:"edit"})}),Object(z.jsx)("button",{className:"ms-2",style:{background:"pink"},onClick:function(){i(e._id)},children:"del"})]})]},t)}))})]})]})};var R=function(e){var t=Object(B.a)(),r=t.register,a=t.handleSubmit,c=t.formState.errors,n=Object(d.f)(),s=r("bizName",{required:!0,minLength:2}),i=r("bizDescription",{required:!0,minLength:2}),l=r("bizAddress",{required:!0,minLength:2}),b=r("bizPhone",{required:!0,minLength:2}),m=r("bizImage",{required:!1}),p=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,x+"/cards",e.next=5,f("https://macard.herokuapp.com/cards","POST",t);case 5:r=e.sent,console.log(r),r._id&&(j.b.success("Card been added"),n.push("/myBizCards")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),j.b.error("There problem, come back next year!");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)("h1",{children:"Add new card to your biz:"}),Object(z.jsxs)("form",{onSubmit:a(p),className:"row",children:[Object(z.jsxs)("div",{className:"col-lg-6",children:[Object(z.jsx)("label",{children:"*Biz name"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},s),{},{type:"text",className:"form-control mt-2"})),c.bizName&&Object(z.jsx)("small",{className:"text-danger",children:"* You must fill your name"})]}),Object(z.jsxs)("div",{className:"col-lg-6",children:[Object(z.jsx)("label",{children:"*Biz address"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},l),{},{type:"text",className:"form-control mt-2"})),c.bizAddress&&Object(z.jsx)("small",{className:"text-danger",children:"* You must Enter valid address"})]}),Object(z.jsxs)("div",{className:"col-lg-6",children:[Object(z.jsx)("label",{children:"*Biz phone"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},b),{},{type:"text",className:"form-control mt-2"})),c.bizPhone&&Object(z.jsx)("small",{className:"text-danger",children:"* You must Enter valid Phone number"})]}),Object(z.jsxs)("div",{className:"col-lg-6",children:[Object(z.jsx)("label",{children:"*Biz image url"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},m),{},{type:"text",className:"form-control mt-2"})),c.bizImage&&Object(z.jsx)("small",{className:"text-danger",children:"* You must Enter valid url"})]}),Object(z.jsxs)("div",{className:"col-lg-12",children:[Object(z.jsx)("label",{children:"*Biz info"}),Object(z.jsx)("textarea",Object(P.a)(Object(P.a)({},i),{},{class:"form-control",rows:"4"})),c.bizDescription&&Object(z.jsx)("small",{className:"text-danger",children:"* You must enter descrption of biz"})]}),Object(z.jsx)("div",{className:"col-12 text-center mb-3",children:Object(z.jsx)("button",{className:"btn btn-info  mt-4",children:"Add new biz card"})})]})]})};var Z=function(e){var t=Object(a.useState)({}),r=Object(l.a)(t,2),c=(r[0],r[1]),n=Object(B.a)(),s=n.register,i=n.handleSubmit,m=n.setValue,p=n.formState.errors,h=Object(d.f)(),v=s("bizName",{required:!0,minLength:2}),g=s("bizDescription",{required:!0,minLength:2}),N=s("bizAddress",{required:!0,minLength:2}),w=s("bizPhone",{required:!0,minLength:2}),k=s("bizImage",{required:!1});Object(a.useEffect)((function(){y()}),[]);var y=function(){var t=Object(u.a)(o.a.mark((function t(){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=x+"/cards/single/"+e.computedMatch.params.id,t.next=3,O(r);case 3:a=t.sent,console.log(a),c(a),m("bizName",a.bizName),m("bizDescription",a.bizDescription),m("bizAddress",a.bizAddress),m("bizPhone",a.bizPhone),m("bizImage",a.bizImage);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(u.a)(o.a.mark((function t(r){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(r),t.prev=1,a=x+"/cards/"+e.computedMatch.params.id,t.next=5,f(a,"PUT",r);case 5:c=t.sent,console.log(c),1==c.n&&(j.b.dark("Card's been updated"),h.push("/myBizCards")),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),j.b.error("an error occurred , please come back later or try again");case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(z.jsxs)("div",{children:[Object(z.jsx)("h1",{children:"Edit card:"}),Object(z.jsxs)("form",{onSubmit:i(S),className:"row",children:[Object(z.jsxs)("div",{className:"col-lg-6",children:[Object(z.jsx)("label",{children:"*Biz name"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},v),{},{type:"text",className:"form-control mt-2"})),p.bizName&&Object(z.jsx)("small",{className:"text-danger",children:"* You must fill your name"})]}),Object(z.jsxs)("div",{className:"col-lg-6",children:[Object(z.jsx)("label",{children:"*Biz address"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},N),{},{type:"text",className:"form-control mt-2"})),p.bizAddress&&Object(z.jsx)("small",{className:"text-danger",children:"* You must Enter valid address"})]}),Object(z.jsxs)("div",{className:"col-lg-6",children:[Object(z.jsx)("label",{children:"*Biz phone"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},w),{},{type:"text",className:"form-control mt-2"})),p.bizPhone&&Object(z.jsx)("small",{className:"text-danger",children:"* You must Enter valid Phone number"})]}),Object(z.jsxs)("div",{className:"col-lg-6",children:[Object(z.jsx)("label",{children:"*Biz image url"}),Object(z.jsx)("input",Object(P.a)(Object(P.a)({},k),{},{type:"text",className:"form-control mt-2"})),p.bizImage&&Object(z.jsx)("small",{className:"text-danger",children:"* You must Enter valid url"})]}),Object(z.jsxs)("div",{className:"col-lg-12",children:[Object(z.jsx)("label",{children:"*Biz info"}),Object(z.jsx)("textarea",Object(P.a)(Object(P.a)({},g),{},{className:"form-control",rows:"4"})),p.bizDescription&&Object(z.jsx)("small",{className:"text-danger",children:"* You must enter descrption of biz"})]}),Object(z.jsxs)("div",{className:"col-12 text-center mb-3",children:[Object(z.jsx)(b.b,{to:"/myBizCards",className:"btn btn-dark mt-4 me-2",children:"Back to list"}),Object(z.jsx)("button",{className:"btn btn-warning  mt-4",children:"Update biz card"})]})]})]})};var G=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),r=t[0],c=t[1];Object(a.useEffect)((function(){n()}),[]);var n=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(z.jsxs)(b.a,{children:[Object(z.jsx)("header",{className:"container-fluid shadow-sm",children:r&&Object(z.jsx)(d.a,{path:"/",component:y})}),r&&Object(z.jsx)("main",{className:"container",style:{minHeight:"81vh"},children:Object(z.jsxs)(d.c,{children:[Object(z.jsx)(d.a,{exact:!0,path:"/",component:q}),Object(z.jsx)(d.a,{exact:!0,path:"/about",component:I}),Object(z.jsx)(d.a,{exact:!0,path:"/signup",component:L}),Object(z.jsx)(d.a,{exact:!0,path:"/login",component:T}),Object(z.jsx)(_,{path:"/userInfo",comp:D}),Object(z.jsx)(_,{path:"/favorites",comp:U}),Object(z.jsx)(_,{path:"/myBizCards",comp:M,bizRoute:!0}),Object(z.jsx)(_,{path:"/addCard",comp:R,bizRoute:!0}),Object(z.jsx)(_,{path:"/editCard/:id",comp:Z,bizRoute:!0}),Object(z.jsx)(d.a,{path:"/",component:A})]})}),Object(z.jsx)("footer",{children:Object(z.jsx)(Y,{})}),Object(z.jsx)(j.a,{position:"bottom-left"})]})},H=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,72)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),a(e),c(e),n(e),s(e)}))};s.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(G,{})}),document.getElementById("root")),H()}},[[71,1,2]]]);
//# sourceMappingURL=main.df45e9a9.chunk.js.map